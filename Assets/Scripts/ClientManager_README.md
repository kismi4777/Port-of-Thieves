# ClientManager - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–ø–∏—Å–∞–Ω–∏–µ
`ClientManager` - —ç—Ç–æ —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–º Client —Å —Å–∏—Å—Ç–µ–º–æ–π —Ç–∞–π–º–µ—Ä–∞ –≤–∫–ª—é—á–µ–Ω–∏—è. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç Client —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ –µ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è.

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **–ê–≤—Ç–æ–ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–∞ Client** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—ä–µ–∫—Ç —Å –∏–º–µ–Ω–µ–º "Client" –Ω–∞ —Å—Ü–µ–Ω–µ
- **–¢–∞–π–º–µ—Ä –≤–∫–ª—é—á–µ–Ω–∏—è** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç Client –≤—ã–∫–ª—é—á–µ–Ω
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞** - —Ç–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç—Å—è

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Inspector

#### Client Management
- **Client Object** - —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç Client (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –µ—Å–ª–∏ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω)
- **Auto Find Client** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–∞ Client (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω)

#### Timer Settings
- **Activation Delay** - –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –≤–∫–ª—é—á–µ–Ω–∏–µ–º –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 —Å–µ–∫—É–Ω–¥)
- **Enable Timer** - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ç–∞–π–º–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω)
- **Start Timer On Awake** - –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–∞–π–º–µ—Ä –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å—Ü–µ–Ω—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω)

#### Debug
- **Show Debug Info** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
1. –°–æ–∑–¥–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç Client –Ω–∞ —Å—Ü–µ–Ω–µ
2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ClientManager` –Ω–∞ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ Inspector
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ü–µ–Ω—É - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```csharp
// –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
ClientManager manager = GetComponent<ClientManager>();

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç—å Client
manager.ForceActivateClient();

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å Client
manager.ForceDeactivateClient();

// –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä –≤—Ä—É—á–Ω—É—é
manager.StartActivationTimer();

// –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä
manager.StopActivationTimer();

// –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É —Ç–∞–π–º–µ—Ä–∞
manager.SetActivationDelay(10f);

// –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º–µ—Ä
manager.SetTimerEnabled(false);

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
bool isClientActive = manager.IsClientActive();
bool isTimerRunning = manager.IsTimerRunning();
float remainingTime = manager.GetRemainingTime();
```

## –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í Inspector –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω—é:
- **"–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä –≤–∫–ª—é—á–µ–Ω–∏—è"** - –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä –≤—Ä—É—á–Ω—É—é
- **"–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä"** - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Ç–∞–π–º–µ—Ä
- **"–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç—å Client"** - –≤–∫–ª—é—á–∏—Ç—å –æ–±—ä–µ–∫—Ç Client
- **"–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å Client"** - –≤—ã–∫–ª—é—á–∏—Ç—å –æ–±—ä–µ–∫—Ç Client
- **"–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å"** - –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** (`Start()`):
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–∞ Client
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±—ä–µ–∫—Ç–∞
   - –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –≤—ã–∫–ª—é—á–µ–Ω

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (`Update()`):
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ Client
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏

3. **–¢–∞–π–º–µ—Ä** (`ActivationTimerCoroutine()`):
   - –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞
   - –í–∫–ª—é—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Client

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ Client
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—É—Ç–∏–Ω
- –£—Å–ª–æ–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞

### üîß –ì–∏–±–∫–æ—Å—Ç—å
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ —Ç–∞–π–º–µ—Ä–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Unity 2020.3 –∏–ª–∏ –Ω–æ–≤–µ–µ
- –û–±—ä–µ–∫—Ç —Å –∏–º–µ–Ω–µ–º "Client" –Ω–∞ —Å—Ü–µ–Ω–µ
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç MonoBehaviour –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```csharp
// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Client
GameObject client = new GameObject("Client");
client.SetActive(false);

// –î–æ–±–∞–≤–ª—è–µ–º ClientManager
GameObject manager = new GameObject("ClientManager");
ClientManager clientManager = manager.AddComponent<ClientManager>();

// –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –æ–±—ä–µ–∫—Ç Client –∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–∞–π–º–µ—Ä
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–¥
```csharp
ClientManager manager = GetComponent<ClientManager>();

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
manager.SetActivationDelay(10f); // 10 —Å–µ–∫—É–Ω–¥
manager.SetTimerEnabled(true);   // –í–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º–µ—Ä

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–∫–ª—é—á–∞–µ–º Client –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
manager.ForceDeactivateClient();
// –¢–∞–π–º–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –ü—Ä–∏–º–µ—Ä 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```csharp
void Update()
{
    ClientManager manager = GetComponent<ClientManager>();
    
    if (manager.IsClientActive())
    {
        Debug.Log("Client –∞–∫—Ç–∏–≤–µ–Ω!");
    }
    else if (manager.IsTimerRunning())
    {
        Debug.Log($"–¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Å—Ç–∞–ª–æ—Å—å: {manager.GetRemainingTime()} —Å–µ–∫—É–Ω–¥");
    }
    else
    {
        Debug.Log("Client –≤—ã–∫–ª—é—á–µ–Ω, —Ç–∞–π–º–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω");
    }
}
```

## –û—Ç–ª–∞–¥–∫–∞

–í–∫–ª—é—á–∏—Ç–µ `Show Debug Info` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞
- –ü–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–∞ Client
- –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞
- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Client
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –î—Ä—É–≥–∏–º–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤
- UI —Å–∏—Å—Ç–µ–º–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞–º–∏ —Å–æ–±—ã—Ç–∏–π Unity
